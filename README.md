# HW_18-19_Blog  
Practical work  
====================================  
ДЗ 18. Практическая работа
Заняття 19. Auth, register and profile page with django class based views, Abstract and Proxy, Django settings, 
admin action, messages, context processor

Ожидаю ссылку на репозиторий и ссылку на задеплоенный проект (если сделали эту опцию)  

Тех задание:  
Блог (опять).  

Функционал:  
Пользователь может зарегистрироваться + логин/логаут  
Пользователь может создавать посты (login required)  
Пользователь может публиковать посты или убирать их в заготовки (пользователь может их позже опубликовать)  
Пользователь может изменять свои посты (login required, filter(owner=...))  
Анонимные пользователи могут публиковать комментарии  
Комментарии модерируется перед публикацией (поле is_published + admin page)  
Администратор получает уведомление на почту о новом посте или комментарии (в консоль)  
Пользователь получает уведомление о новом комментарии под постом с сылкой на пост (консоль) 
(начните с того что бы  email отправлялся при создании комментария)  
Есть страница с списком всех постов  
Есть страница с списком постов пользователя  
Есть страница поста  
Есть страница профиля публичная  
Есть профиль в котором можно изменять свои данные  
Пагинация постов и комментариев  
У поста есть заголовок, краткое описание, картинка (опционально ссылка на изображение или реальный файл изображения) 
и полное описание  
У комментария есть юзернейм и текст (просто два текстовых поля)  
Фикстуры loremipsum  
Админка с функционалом  
Форма обратной связи с админом (в консоль)  
Темплейты с стилизацией  
Разные настройки для разработки и продакшена  
Оптимизация запросов в базу  
Кеширование  
Селери  
Pythonanywhere или Heroku или DigitalOcean или что угодно - развернуть в продашкене 
(без кеширования и бэкграунд задач) **    
  
пункты с ** опциональны, но желательны - реализацию селери и кеширования можно выполнить в отдельной ветке   
что бы при деплое на продкшен они не использовались    
больше инструкций найдете тут - https://djangogirls.org/resources/    
учтите что на Pythonanywhere (и на других) - redis и celery не заработают (их нужно настраивать отдельно).    
==================================

-- (Пользователь может зарегистрироваться + логин/логаут)  
Плюс -- письмо о регистрации.
Данные Админа:  
email: admin@admin.com  
password: admin  

-- (Пользователь может создавать посты (login required))  
Кнопка "Create a post" не доступна не залогиненному пользователю.  

-- (Пользователь может публиковать посты или убирать их в заготовки (пользователь может их позже опубликовать))  
При создании поста есть кнопка "Stay Draft!", при нажатии которой пост создается, но не публикуется.  
Позже можно изменить "Stay Draft!" как в ту, так и в другую сторону. 

-- (Пользователь может изменять свои посты (login required, filter(owner=...)))   
Для собственника поста и для Админа есть кнопка "Edit".    

-- (Анонимные пользователи могут публиковать комментарии)  
Блок для комментария доступен незалогиненным пользователям. При создании комментария можно указать свои данные, 
а можно остаться анонимом.  

-- (Комментарии модерируется перед публикацией (поле is_published + admin page))  
Админ должен отметить "Is published" на странице Админа.  

-- (Администратор получает уведомление на почту о новом посте или комментарии (в консоль))   
В DEBUG -- в консоль, в Прод -- реализован EMAIL_HOST="smtp.gmail.com"  

-- (Пользователь получает уведомление о новом комментарии под постом с ссылкой на пост (консоль).
(начните с того что бы  email отправлялся при создании комментария)  
И пользователь, и Админ. В DEBUG -- в консоль, в Прод -- реализован EMAIL_HOST="smtp.gmail.com".  
Сначала они получают письмо о создании комментария, а потом пользователь получает письмо о публикации комментария,
т.е. после того, как Админ поставил отметку "Is published" на странице Админа.  

-- (Есть страница с списком всех постов)  
"All Posts"  

-- (Есть страница с списком постов пользователя)   
"My Posts". Доступна пользователю для его постов и Админу.  

-- (Есть страница поста).  
Кнопка "Read more...".  

-- (Есть страница профиля публичная)  
Можно просмотреть, нажав на username автора.  

-- (Есть профиль в котором можно изменять свои данные)  
Пользователю доступна кнопка "Edit".  

-- (Пагинация постов и комментариев)  
Отдельно постов, отдельно комментариев.  

-- (У поста есть заголовок, краткое описание, картинка
(опционально ссылка на изображение или реальный файл изображения) и полное описание)   
Для Media & Static файлов реализован S3 AWS.  

-- (У комментария есть юзернейм и текст (просто два текстовых поля))  
Плюс email, но как и юзернейм, поле не обязательно.  

-- (Фикстуры loremipsum)  
Реализованы менеджмент-команды [create_new_models.py](blog_app%2Fmanagement%2Fcommands%2Fcreate_new_models.py)
и [create_users.py](blog_app%2Fmanagement%2Fcommands%2Fcreate_users.py).
А также фикстуры [blog_users.json](blog_users%2Ffixtures%2Fblog_users.json) и
[fresh_db.json](blog_app%2Ffixtures%2Ffresh_db.json).
На html-странице добавлен loremipsum.  

-- (Админка с функционалом)  
Да.

-- (Форма обратной связи с админом (в консоль))  
В DEBUG -- в консоль, в Прод -- реализован EMAIL_HOST="smtp.gmail.com".
Кнопка "Contact us".  
Она же -- ДЗ №20 -- "В любом из репозиториев реализовать или изменить функционал ContactForm,  которая будет 
отправлять письмо на почту (через celery),  но будет доступна с любой страницы сайта,  которая использует один
из базовых шаблонов.".  

-- (Темплейты с стилизацией).  
Да. "Раскрас" сайта страшный, но зато визуально видно "стилизацию".  

-- (Разные настройки для разработки и продакшена).
В settings.py -- реализовано через "if Debug", а также через .env и dev.env, и requirements.txt и requirements_dev.txt.   

-- (Оптимизация запросов в базу).  
Реализована через select_related и prefetch_related.  

-- (Кеширование)  
Минимально, см. ветку celery_cache на GitHub.  

-- (Селери)   
см. ветку celery_cache на GitHub.   

-- (Pythonanywhere или Heroku или DigitalOcean или что угодно - развернуть в продашкене 
(без кеширования и бэкграунд задач) **  

Your app can be found at https://blog-app-oleksiilevenets.herokuapp.com/  

(пункты с ** опциональны, но желательны - реализацию селери и кеширования можно выполнить в отдельной ветке 
чтобы при деплое на продкшен они не использовались).  
=================